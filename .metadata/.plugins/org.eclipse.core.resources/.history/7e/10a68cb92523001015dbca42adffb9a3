/*
 * imu.h
 *
 *  Created on: Apr 26, 2025
 *      Author: School
 */

#ifndef __IMU_H
#define __IMU_H

#include <stdint.h>

// BNO055 I²C address (7-bit <<1 for HAL)
#define BNO055_ADDR       (0x28 << 1)

// Register definitions
#define BNO055_OPR_MODE   0x3D
#define BNO055_PWR_MODE   0x3E
#define BNO055_CALIB_STAT 0x35
#define BNO055_EULER_H    0x1A

// Operation modes
#define OPERATION_MODE_CONFIG 0x00
#define OPERATION_MODE_NDOF   0x0C

// Power modes
#define POWER_MODE_NORMAL     0x00

// Public API (no parameters—always uses hi2c1)
HAL_StatusTypeDef BNO055_Init(void);
HAL_StatusTypeDef BNO055_SetMode(uint8_t mode);
HAL_StatusTypeDef BNO055_GetCalibrationStatus(uint8_t *sys, uint8_t *gyro, uint8_t *accel, uint8_t *mag);
HAL_StatusTypeDef BNO055_GetEuler(int16_t *heading, int16_t *roll, int16_t *pitch);

#endif // __IMU_H

